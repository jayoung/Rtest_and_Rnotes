---
title: "test_randomCodeBits_part1"
author: "Janet Young\n"
date: "`r Sys.Date()`"
output: github_document
always_allow_html: true
---

This is the first in a set of two linked Rmd scripts, to help me test my `render_Rmd_series.perl` script.

The render_Rmd_series.perl script is set up so that it will not run downstream scripts if anything in the chain fails.

Make sure to check the resulting

Here's the command I use to run the series of scripts:

```
render_Rmd_series.perl test_randomCodeBits_part1.Rmd test_randomCodeBits_part2.Rmd
```

To remove all output:
```
rm -r iris_plus_groups* z* *Rerr.txt *Rout.txt *_files *.md slurm-*out
```

This script (part1) creates a fake dataset, which we will make a plot of in part2. 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(here)
```

```{r}
iris_plus_groups <- iris |> 
    as_tibble() |> 
    mutate(group = sample(1:2, size=nrow(iris), replace=TRUE)) |> 
    mutate(group=paste0("group_", group)) 
```


Here's some code that will produce an error, if we were to change `eval` to `TRUE.` The render_Rmd_series.perl script is set up so that it will not run downstream scripts if anything in the chain fails.

```{r produce error, eval=FALSE}
xxxx
```


# Finished

```{r}
save(iris_plus_groups, 
     file=here("Rscripts/zz_test_renderRmd_in_series/iris_plus_groups.Rdata"))
```


```{r}
sessionInfo()
```

